%!TEX root = ../hauptdatei.tex
\chapter{Konzept}

\section{Softwarearchitektur} \label{softwarearchitektur}
Die funktionalen Anforderungen \nameref{fa10} sowie \nameref{fa20} fordern eine zentrale Datenverwaltung.
Um dies gewährleisten zu können, wird das System in zwei Komponentengruppen, dem Backend und das Frontend, aufgeteilt.
Das Backend soll eine Anbindung zu einer Datenbank besitzen, um neue sowie bereits vorhandene Daten speichern zu können.
Damit der Administrator die Daten möglichst komfortabel pflegen kann und es zusätzlich dem Administrator und dem Benutzer möglich sein soll, die Daten einzusehen, ist ein Frontend notwendig. Die Verwaltung der Daten durch den Administrator soll hierbei über ein Web Admin-Dashboard geschehen. Die Visualisierung der Daten als Information soll über eine iOS Applikation, gemäß der nichtfunktionalen Anforderung \nameref{nfa30}, ermöglicht werden.
\\
Diese Softwarearchitektur ist in der folgenden Abbildung \ref{componentdiagramsystem} als UML Komponentendiagramm dargestellt.

\abbildung{../diagramme/SystemComponents.pdf}{Das UML Komponentendiagramm für das System, bestehend aus Backend, iOS App und Web Admin-Dashboard}{componentdiagramsystem}

\clearpage

\section{Rollenmodell} \label{rollenmodell}
Die funktionale Anforderung \nameref{fa20} setzt voraus, dass der Administrator die Daten über eine zentrale Schnittstelle pflegen kann. Dabei muss dem Administrator die Möglichkeit gegeben werden, nach den funktionalen Anforderungen \nameref{fa50}, \nameref{fa60}, \nameref{fa70}, \nameref{fa100}, \nameref{fa110}, und \nameref{fa120}, Backprodukte und Neuigkeiten erstellen, bearbeiten und löschen zu können.
Des Weiteren muss es sowohl dem Administrator als auch dem Benutzer des Systems, gemäß den funktionalen Anforderungen \nameref{fa30}, \nameref{fa40}, \nameref{fa80} und \nameref{fa90}, möglich sein, sich die Daten zu den Backprodukten und Neuigkeiten anzeigen zu lassen. Hierbei ist nach den nichtfunktionalen Anforderungen \nameref{nfa10} und \nameref{nfa20} zu beachten, dass die Administration der Daten lediglich bei Existenz einer autorisierten Sitzung des Administrators und das Abfragen der Daten lediglich bei Existenz einer autorisierten Sitzung des Benutzers erlaubt sein darf.
\\
Hieraus folgt, dass es analog zwei Rollen geben soll. Zum einen der Benutzer und zum anderen der Administrator, welcher die für den Benutzer verfügbaren Funktionen erbt. Beiden soll es möglich sein, sich am System anzumelden.
Dies ist in der folgenden Abbildung \ref{usecasediagramsystem} als UML Usecase Diagramm visualisiert.

\abbildungs{15cm}{../diagramme/SystemUsecase.pdf}{Das UML Usecase Diagramm für das System und als Aktor der Administrator sowie Benutzer zur Verdeutlichung des Rollenmodells}{usecasediagramsystem}

\clearpage

\section{Datenmodell}
Im Kapitel \ref{rollenmodell} wurde beschrieben, wie das Rollenmodell des Systems als Entwurf aussehen soll.
Im Rahmen des Datenmodells ist hierbei eine Entität, der \enquote{ApplicationUser} notwendig, siehe Abbildung \ref{classdiagramapplicationuser}. Diese Entität besitzt die Attribute \enquote{username} für den Benutzernamen sowie \enquote{password} für das Passwort zur Anmeldung, \enquote{name} für den Namen der jeweiligen Person, \enquote{isActive} für die Möglichkeit zur Deaktivierung und \enquote{isArchived} für die Archivierung des dahinterstehenden Accounts. Des Weiteren besitzt die Entität \enquote{ApplicationUser} eine Liste an \enquote{ApplicationUserRole}, wodurch das Rollenmodell vollständig implementiert ist.

\abbildungs{5cm}{../diagramme/ApplicationUser.pdf}{Das UML Klassendiagramm zur ApplicationUser Entität}{classdiagramapplicationuser}

Damit das System den funktionalen Anforderungen \nameref{fa30}, \nameref{fa40}, \nameref{fa50}, \nameref{fa60}, \nameref{fa70} und \nameref{fa80} entspricht, ist ein passendes Datenmodell für die abstrakte Klasse \enquote{BakedGood} im Rahmen der objektorientierten Programmierung notwendig. Die Klasse \enquote{BakedGood} wurde als eine abstrakte Klasse  entworfen, um diese mit geringem Aufwand um die Kindklassen \enquote{Loaf} und \enquote{Bun} und im Nachhinein um weitere Kindklassen erweitern zu können. Des Weiteren wurden Attribute des Modells \enquote{BakedGood} in die Klassen \enquote{Ingredient} sowie \enquote{CerealMixPercentage} und in die Enumerationen \enquote{AllergyType} sowie \enquote{WeekDay} aufgeteilt. Das  Gesamtmodell zur Klasse \enquote{BakedGood} ist in der Abbildung \ref{classdiagrambakedgood} als UML Klassendiagramm visualisiert.


\abbildung{../diagramme/BakedGood.pdf}{Das UML Klassendiagramm zur BakedGood Entität}{classdiagrambakedgood}

\newpage

Gemäß den funktionalen Anforderungen \nameref{fa90}, \nameref{fa100}, \nameref{fa110}, und \nameref{fa120} wurde die Klasse \enquote{NewsItem} entworfen. Diese ist in der folgenden Abbildung \ref{classdiagramnewsitem} als UML Klassendiagramm dargestellt.

\abbildungs{5cm}{../diagramme/NewsItem.pdf}{Das UML Klassendiagramm zur NewsItem Entität}{classdiagramnewsitem}

\clearpage

\section{Sicherheit}